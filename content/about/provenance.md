---
title: Provenance
include_footer: true
draft: false
date: 2024-02-13T10:23:24+01:00
---
<h3><strong>What is Provenance:</strong></h3>
<!-- /wp:paragraph --><!-- wp:paragraph -->

You can look at provenance as the history of a data object, for example how a sample has been created and where it has been stored.

<!-- /wp:paragraph --><!-- wp:paragraph -->

Provenance, as defined in the ISO Provenance Standard <a href="https://www.researchgate.net/publication/353083532_ISO_23494_Biotechnology_-_Provenance_Information_Model_for_Biological_Specimen_And_Data" target="_blank" rel="noopener">ISO 23494</a> -
“Biotechnology – Provenance information model for biological specimen and data – Part 2: Common Provenance Model” is expressed as a triplet of "Entity - Agent - Activity". The entity was generated by an activity, which has been performed by an agent. Such a triplet is displayed in the image below.

<img class="wp-image-140 aligncenter" src="http://landing.fair.bibbox.org/wp-content/uploads/2022/05/prov_1.png" alt="" width="518" height="335" />

<!-- /wp:paragraph --><!-- wp:paragraph -->
<h3><strong>Provenance Example</strong></h3>
<!-- /wp:paragraph --><!-- wp:paragraph -->

The below image shows the provenance of a tissue sample. The tissue sample was derived from the entity "Patient" and was generated by the action of "Biomaterial collection". The action "Biomaterial collection" used the entity "Patient" and was performed by (associated with) the agent "Surgical Department"

<img class="wp-image-141 aligncenter" src="http://landing.fair.bibbox.org/wp-content/uploads/2022/05/prov_2.png" alt="" width="503" height="263" />

<!-- wp:heading {"level":3} -->
<h3>The Provenance Access Point</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->

The Provenance Access Point (PAP) exposes provenance information about a single record, meaning a single data record like a biological sample. The information returned by the PAP adheres to the ISO provenance standard 23494 and is in a machine-readable format.

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

The PAP is still under development (<a href="https://github.com/bibbox/dev-PAP" target="_blank" rel="noopener">GitHub</a>). In the current state, data is extracted from OpenSpecimen with the OpenSpecimenAPIconnector (<a href="https://github.com/bibbox/OpenSpecimenAPIconnector.py" target="_blank" rel="noopener">GitHub</a>, <a href="https://openspecimenapiconnectorpy.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener">Docs</a>), transformed by a Juypter Notebook (<a href="https://github.com/bibbox/app-openspecimen-fair/blob/master/data/jupyter/home/jovyan/work/fillPAP.ipynb" target="_blank" rel="noopener">GitHub</a>) and loaded in a Neo4j using the PROV Database Connector (<a href="https://github.com/DLR-SC/prov-db-connector" target="_blank" rel="noopener">GitHub</a>, <a href="https://prov-db-connector.readthedocs.io/en/latest/readme.html" target="_blank" rel="noopener">Docs</a>).

As a demonstration, you can access the provenance database <a href="http://osfair-pap-noe4j.fair.bibbox.org/browser/" target="_blank" rel="noopener">here</a>.

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

LogIn to the Neo4J database:
-Connect URL
- <em>bolt://osfair-pap-noe4j-backend.fair.bibbox.org:80</em>
- Credentials Admin:
- Username: "<em>neo4j</em>"
- Password: "<em>admin</em>"

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

As a logged-in user to the provenance database, you can now click on the database icon and then click on the red number to display all stored entities, see image below.

<!-- /wp:paragraph -->

<!-- wp:image {"id":154} -->
<figure class="wp-block-image"><img class="wp-image-154" src="http://landing.fair.bibbox.org/wp-content/uploads/2022/05/prov_navigation-300x258.png" alt="" /></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->

As a result, you will see a graphical representation of the provenance information of a <a href="http://osfair.fair.bibbox.org/openspecimen/#/cp-view/1/participants/1/visits/specimens/detail/overview?specimenId=1&amp;visitId=1" target="_blank" rel="noopener">biological sample stored in OpenSpecimen</a>. The graph shows the events of sample collection, reception and processing (a derivate is generated from the sample). You can click on each of the nodes to display further information.

<!-- /wp:paragraph -->

<!-- wp:image {"id":155} -->
<figure class="wp-block-image"><img class="wp-image-155" src="http://landing.fair.bibbox.org/wp-content/uploads/2022/05/prov_3-300x273.png" alt="" /></figure>
This demo provenance database was filled with the data from a demo <a href="http://osfair.fair.bibbox.org/openspecimen/#/cp-view/1/participants/1/visits/specimens/detail/overview?specimenId=1&amp;visitId=1" target="_blank" rel="noopener">OpenSpecimen</a> instance using the Jupyter Notebook <a href="http://osfair-jupyter.fair.bibbox.org/lab?" target="_blank" rel="noopener">here</a>.
The script to fill the PAP is called <em>fillPAP.ipynb </em>and is located in at <em>work/fillPAP.ipynb. </em>The Jupyter access token is "<em>FDP</em>".